---
copyright:
  years: 2024
lastupdated: "2024-04-11"

subcollection: pattern-webapp-openshift-vpc

keywords:
---
# Architecture decisions for security
{: #security-decisions}

The following are security architecture decisions for the ROKS Networking & Security pattern.

| **Architecture decision**                              | **Requirement**                                                                                                                                                                                            | **Alternative**                                                                                                                            | **Decision**                                           | **Rationale**                                                                                                                                                                                                                                                                    |
| ------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| IBM Cloud account type                                       | Cloud PaaS and IaaS to develop and operate Web Application for E-commerce                                                                                                                                        | - Pay as you go account \n - Subscription account                                                                                                       | Subscription account                                         | Subscription account provide discounts for platform services and support more consistent, predictable billing                                                                                                                                                                          |
| Segregation of duties                                        | Segregation of duties – ensure developers have no access to production                                                                                                                                          | - Separate Project/namespace \n - Separate Openshift cluster \n -Separate VPC and OpenShift Cluster for Production \n - Separate Cloud account for production | Separate VPC and OpenShift Cluster for Production. IAM RBAC, | Native VPC isolation through the use of separate VPCs for prod, non-prod environments provides a security boundary between environments using policies, access groups, ACLs and RBAC features to implement segregation of duties.                                                      |
| Isolation of Dev, Test environments in a single ROKS cluster | Environment isolation                                                                                                                                                                                            | - Separate environment OpenShift clusters \n- Separate environments using OpenShift Projects                                                           | Separate environments using OpenShift Projects               | Isolation of environments using Projects                                                                                                                                                                                                                                               |
| Ownership of encryption keys                                 | Encrypt all data to protect it from unauthorized disclosure.                                                                                                                                                     | - Encryption with provider keys \n - Encryption with customer-managed keys                                                                              | Encryption with customer-managed keys                        | Encrypting data with customer-managed keys is recommended to provide added security and customer control that is often required to meet compliance requirements.                                                                                                                       |
| Data encryption at rest                                      | Encrypt all data at rest to protect from unauthorized disclosure                                                                                                                                                 | - Storage encryption with customer-managed keys \n - App-level encryption                                                                               | Storage encryption with customer-managed keys                | Data at rest could be stored in Object Storage or Block storage for VPC. These storage services support encryption with customer-managed keys by selecting a KMS.                                                                                                                      |
| Key lifecycle Management and HSM                             | Encrypt data by using customer-managed keys to protect them from unauthorized access.                                                                                                                            | - Key Protect \n - Hyper Protect Crypto Services (HPCS)                                                                                                 | Key Protect                                                  | Key Protect is recommended for applications that need to comply with regulations requiring encryption of data with customer-managed keys. Key Protect provides key management services by using a shared (multi-tenant) FIPS 140-2 Level 3 certified hardware security modules (HSMs). |
| Certificate Management                                       | Protect secrets through their entire lifecycle and secure them using access control measures                                                                                                                     | - Secrets Manager \n - BYO Certificate Manager                                                                                                          | Secrets Manager                                              | IBM Secrets Manager creates, leases, and centrally manages secrets that are used by IBM Cloud Services or customer applications. Secrets are stored in a dedicated instance of Secrets Manager and can be encrypted by using any of IBM Cloud key management services.                 |
| Image registry                                               | Private registry with vulnerability scanning and encrypted images                                                                                                                                                | - OpenShift internal registry \n - IBM Cloud Container registry \n - Quay.io                                                                                | IBM Cloud Container Registry                                 | Provides private registry with controlled access through IBM Cloud IAM, access policies and imagepull secret. Automatic scanning of images for vulnerabilities.                                                                                                                        |
| Privileged Access Management                                 | Ensure that all operator actions are run securely through a bastion host Implement session recording to track all activities and note any potential threats Manage access to resources and track commands issued | - BYO - Bastion Host \n - BYO Bastion Host with Privileged Access Management (PAM) SW                                                                     | BYO Bastion Host with Privileged Access Management (PAM) SW  | The Bastion Host is a Virtual Server instance that is provisioned through SSH over a private network to securely access resources within IBM Cloud’s private network. Using PAM software is recommended to perform session recording and to help track and manage all access.         |
| DDoS                                                         | Enforce information flow policies and protect the boundaries of the application.  Protect against or limit the effects of denial-of-service attacks.                                                             | IBM Cloud Internet Services (CIS)                                                                                                                | IBM Cloud Internet Services (CIS)                            | - IBM Cloud Internet Services provide Distributed Denial of Service (DDoS) to protect applications that are exposed to the public network.                                                                                                                                               |
{: caption="Table 1. Architecture decisions for security" caption-side="bottom"}

